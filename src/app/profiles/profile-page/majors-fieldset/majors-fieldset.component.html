<form [formGroup]="majorForm">
  <p-fieldset legend="التوصيف العلمي" [toggleable]="true">
    <div class="p-fluid grid pt-3">
      <div class="field col-5">
        <span class="right-float-label p-float-label">
          <p-autoComplete
            field="title"
            formControlName="major"
            [suggestions]="(filteredMajors$ | async)!"
            [forceSelection]="false"
            (completeMethod)="filterMajors($event)">
          </p-autoComplete>
          <label for="major">التوصيف</label>
        </span>
      </div>
      <div class="field col-5">
        <span class="right-float-label p-float-label">
          <input id="reference" pInputText formControlName="reference" />
          <label for="reference">مجري التوصيف</label>
        </span>
      </div>
      <div class="field col-2">
        <p-button
          styleClass="p-button-success"
          label="إضافة"
          [disabled]="majorForm.invalid"
          (onClick)="onAddMajor()"></p-button>
      </div>
    </div>
    <div class="field col">
      <table class="w-full text-center border-1">
        <thead>
          <tr>
            <th>التوصيف</th>
            <th>مجري التوصيف</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let major of majors">
            <td>{{ major.major.title }}</td>
            <td>{{ major.reference }}</td>
            <td>
              <button
                pButton
                class="p-button-danger p-button-text"
                (click)="onDeleteMajor(major)">
                <span class="pi pi-times w-full text-center"></span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </p-fieldset>
</form>
